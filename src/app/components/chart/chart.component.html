<ng-container *ngIf="vm$ | async as vm">
  <div [class]="expanded ? 'expanded-panel chart' : 'collapsed-panel chart'">
    <div
      [class]="
        triggerDayChange
          ? 'animate__animated animate__bounceIn score-container'
          : 'score-container'
      "
    >
      <div class="score-title" *ngIf="expanded">
        {{ translate("score_today") }}
      </div>
      <div class="score">{{ vm.score }}%</div>
    </div>
    <svg width="100%" height="100%" viewBox="0 0 42 42" class="donut">
      <circle
        class="donut-hole"
        cx="21"
        cy="21"
        r="15.91549430918954"
        fill="#fff"
      ></circle>
      <circle
        class="donut-ring"
        cx="21"
        cy="21"
        r="15.91549430918954"
        fill="transparent"
        stroke="#E0F2F1"
        stroke-width="3"
      ></circle>

      <circle
        class="donut-segment"
        cx="21"
        cy="21"
        r="15.91549430918954"
        fill="transparent"
        stroke="#2AB7B7"
        stroke-width="3"
        stroke-linecap="round"
        [style.strokeDasharray]="vm.scoreDasharray"
      ></circle>
    </svg>
  </div>
</ng-container>
